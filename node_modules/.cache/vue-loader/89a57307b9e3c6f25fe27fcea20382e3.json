{"remainingRequest":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\src\\components\\patients\\appointments-patient.vue?vue&type=script&lang=js&","dependencies":[{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\src\\components\\patients\\appointments-patient.vue","mtime":1637587974000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQXBwb2ludG1lbnRBcGlTZXJ2aWNlIGZyb20gJy4uLy4uL2NvcmUvc2VydmljZXMvYXBwb2ludG1lbnRzLWFwaS5zZXJ2aWNlJwppbXBvcnQgUHN5Y2hvbG9naXN0QXBpU2VydmljZSBmcm9tICcuLi8uLi9jb3JlL3NlcnZpY2VzL3BzeWNob2xvZ2lzdHMtYXBpLnNlcnZpY2UnCmltcG9ydCBQc3ljaG9sb2dpc3RzQXBpU2VydmljZSBmcm9tICIuLi8uLi9jb3JlL3NlcnZpY2VzL3BzeWNob2xvZ2lzdHMtYXBpLnNlcnZpY2UiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhcHBvaW50bWVudHMtcGF0aWVudCIsCiAgZGF0YTogKCkgPT4gKHsKICAgIHNjaGVkdWxlRGF0ZTogJycsCiAgICBtZW51OiBmYWxzZSwKICAgIHBzeWNob0lkOiAiIiwKICAgIHNjaGVkdWxlczogW10sCiAgICBkaWFsb2dSZVNjaGVkdWxlOiBmYWxzZSwKICAgIGFwcG9pbnRtZW50czogW10sCiAgICBwc3ljaG9sb2dpc3RzOiBbXSwKICAgIHVzZXJJZDogIiIsCiAgICBkaWFsb2dJbmZvOiBmYWxzZSwKICAgIGRpYWxvZzogZmFsc2UsCiAgICBkaWFsb2dTZWxlY3RlZDogZmFsc2UsCiAgICBzZWxlY3RlZEFwcG9pbnRtZW50OiBudWxsLAogICAgZGVsZXRlQXBwb2ludG1lbnQ6IG51bGwsCiAgICBhcHBvaW50bWVudElkOiAwLAogICAgYWN0aXZlUGlja2VyOiBudWxsLAogICAgZGF0ZUFwcDogbnVsbCwKICB9KSwKCiAgd2F0Y2g6IHsKICAgIG1lbnUgKHZhbCkgewogICAgICB2YWwgJiYgc2V0VGltZW91dCgoKSA9PiAodGhpcy5hY3RpdmVQaWNrZXIgPSAnWUVBUicpKQogICAgfSwKICB9LAoKICBhc3luYyBjcmVhdGVkKCkgewogICAgdGhpcy51c2VySWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICBjb25zdCByZXNwb25zZVBzeWNob2xvZ2lzdCA9IGF3YWl0IFBzeWNob2xvZ2lzdEFwaVNlcnZpY2UuZ2V0QWxsKCk7CiAgICB0aGlzLnBzeWNob2xvZ2lzdHMgPSByZXNwb25zZVBzeWNob2xvZ2lzdC5kYXRhOwogICAgYXdhaXQgdGhpcy5yZXRyaWV2ZUFwcG9pbnRtZW50cygpOwogICAgY29uc29sZS5sb2codGhpcy5kaWFsb2dJbmZvKQogIH0sCgogIG1ldGhvZHM6IHsKICAgIHNjaGVkdWxlRGlhbG9nKHNjaGVkdWxlZEFURSl7CiAgICAgIHRoaXMuc2NoZWR1bGVEYXRlID0gc2NoZWR1bGVkQVRFOwogICAgICB0aGlzLmRpYWxvZ1NlbGVjdGVkID0gdHJ1ZTsKICAgIH0sCgogICAgc2F2ZSAoZGF0ZSkgewogICAgICB0aGlzLiRyZWZzLm1lbnUuc2F2ZShkYXRlKQogICAgfSwKCiAgICBhc3luYyByZVNjaGVkdWxlKGRhdGVUaW1lLCBkYXRlSG91cikgewogICAgICBsZXQgZGF0ZVRvSXNvID0gbmV3IERhdGUoZGF0ZVRpbWUgKyAiICIgKyBkYXRlSG91cik7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQXBwb2ludG1lbnRBcGlTZXJ2aWNlLmdldEFwcG9pbnRtZW50SWQodGhpcy5hcHBvaW50bWVudElkKTsKICAgICAgbGV0IGRhdGFBcHBvaW50bWVudCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIGNvbnNvbGUubG9nKGRhdGFBcHBvaW50bWVudCwgZGF0ZVRvSXNvKQogICAgICBsZXQgbmV3RGF0ZSA9IHsKICAgICAgICBwc3ljaG9Ob3RlczogZGF0YUFwcG9pbnRtZW50LnBzeWNob05vdGVzLAogICAgICAgIHNjaGVkdWxlRGF0ZTogZGF0ZVRvSXNvLnRvSVNPU3RyaW5nKCksCiAgICAgICAgY3JlYXRlZEF0OiBkYXRhQXBwb2ludG1lbnQuY3JlYXRlZEF0LAogICAgICAgIG1vdGl2ZTogZGF0YUFwcG9pbnRtZW50Lm1vdGl2ZSwKICAgICAgICBwZXJzb25hbEhpc3Rvcnk6IGRhdGFBcHBvaW50bWVudC5wZXJzb25hbEhpc3RvcnksCiAgICAgICAgdGVzdFJlYWxpemVkOiBkYXRhQXBwb2ludG1lbnQudGVzdFJlYWxpemVkLAogICAgICAgIHRyZWF0bWVudDogZGF0YUFwcG9pbnRtZW50LnRyZWF0bWVudCwKICAgICAgfTsKICAgICAgYXdhaXQgQXBwb2ludG1lbnRBcGlTZXJ2aWNlLnVwZGF0ZUFwcG9pbnRtZW50KGRhdGFBcHBvaW50bWVudC5pZCwgbmV3RGF0ZSk7CiAgICAgIGF3YWl0IHRoaXMucmV0cmlldmVBcHBvaW50bWVudHMoKTsKICAgICAgdGhpcy5kaWFsb2dTZWxlY3RlZCA9IGZhbHNlOwogICAgfSwKCiAgICBnZXRQc3ljaG9sb2dpc3ROYW1lKGlkKSB7CiAgICAgIHJldHVybiB0aGlzLnBzeWNob2xvZ2lzdHMuZmluZChwc3ljaG9sb2dpc3RzID0+IHBzeWNob2xvZ2lzdHMuaWQgPT09IGlkKS5uYW1lOwogICAgfSwKCiAgICBvcGVuUmVTY2hlZHVsZURpYWxvZyhhcHBvaW50bWVudElkKSB7CiAgICAgIHRoaXMucmV0cmlldmVQc3ljaG9TY2hlZHVsZXMoYXBwb2ludG1lbnRJZCk7CiAgICAgIHRoaXMuZGlhbG9nUmVTY2hlZHVsZSA9IHRydWU7CiAgICB9LAoKICAgIHJldHJpZXZlUHN5Y2hvU2NoZWR1bGVzKGlkKSB7CiAgICAgIFBzeWNob2xvZ2lzdHNBcGlTZXJ2aWNlLmdldFNjaGVkdWxlRnJvbVBzeWNobyhpZCkKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy5zY2hlZHVsZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgfSk7CiAgICB9LAoKICAgIGFzeW5jIHBzeWNob2xvZ2lzdERpYWxvZyhwc3ljaG9JZCwgaWRBcHBvaW50bWVudCl7CiAgICAgIHRoaXMuYXBwb2ludG1lbnRJZCA9IGlkQXBwb2ludG1lbnQ7CiAgICAgIHRoaXMucHN5Y2hvSWQgPSBwc3ljaG9JZDsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQc3ljaG9sb2dpc3RBcGlTZXJ2aWNlLmdldEJ5SWQocHN5Y2hvSWQpOwogICAgICB0aGlzLnNlbGVjdGVkQXBwb2ludG1lbnQgPSByZXNwb25zZS5kYXRhOwogICAgICB0aGlzLmRpYWxvZ0luZm8gPSB0cnVlOwogICAgfSwKCiAgICBvcGVuQ2FuY2VsRGlhbG9nKCl7CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgIH0sCgogICAgY2xvc2VEaWFsb2coKXsKICAgICAgdGhpcy5kaWFsb2dJbmZvID0gZmFsc2U7CiAgICB9LAoKICAgIGFzeW5jIHJldHJpZXZlQXBwb2ludG1lbnRzKCl7CiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQXBwb2ludG1lbnRBcGlTZXJ2aWNlLmdldEFwcG9pbnRtZW50c0J5UGF0aWVudElkKHRoaXMudXNlcklkKTsKICAgICAgdGhpcy5hcHBvaW50bWVudHMgPSByZXNwb25zZS5kYXRhOwogICAgfSwKCiAgICBhc3luYyBjYW5jZWxBcHBvaW50bWVudChhcHBvaW50bWVudElkKXsKICAgICAgYXdhaXQgQXBwb2ludG1lbnRBcGlTZXJ2aWNlLmRlbGV0ZUFwcG9pbnRtZW50KGFwcG9pbnRtZW50SWQpOwogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEFwcG9pbnRtZW50QXBpU2VydmljZS5nZXRBcHBvaW50bWVudHNCeVBhdGllbnRJZCh0aGlzLnVzZXJJZCk7CiAgICAgIHRoaXMuYXBwb2ludG1lbnRzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5kaWFsb2dJbmZvID0gZmFsc2U7CiAgICAgIGFsZXJ0KCJDYW5jZWxlZCBBcHBvaW50bWVudCIpCiAgICB9LAoKICAgIGFzeW5jIGpvaW5NZWV0KCkgewogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEFwcG9pbnRtZW50QXBpU2VydmljZS5nZXRBcHBvaW50bWVudElkKHRoaXMuYXBwb2ludG1lbnRJZCk7CiAgICAgIGNvbnN0IGFwcG9pbnRtZW50ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgaWYoYXBwb2ludG1lbnQucHN5Y2hvTm90ZXMgPT09ICJObyBVcmwgWWV0IikKICAgICAgewogICAgICAgIGFsZXJ0KCJBbiB1cmwgaXMgbm90IHNldCB5ZXQiKQogICAgICB9CiAgICAgIGVsc2UKICAgICAgewogICAgICAgIHdpbmRvdy5vcGVuKGFwcG9pbnRtZW50LnBzeWNob05vdGVzKTsKICAgICAgfQogICAgfQogIH0sCn0K"},{"version":3,"sources":["appointments-patient.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"appointments-patient.vue","sourceRoot":"src/components/patients","sourcesContent":["<template>\n  <div style=\"width: 100%; height: 100%\">\n    <v-card class=\"mt-10\" style=\"width:100%\">\n      <v-divider vertical></v-divider>\n      <h2 class=\"ml-9 mb-5\">Appointments</h2>\n      <v-row v-for=\"appointment in appointments\" :key=\"appointment\">\n        <v-col cols=\"10\">\n          <v-card class=\"mr-8 ml-8\" color=#03A9F4>\n            <v-card-text class=\"white--text\" style=\"display: flex\">\n              <v-col cols=\"9\">\n                <h3 class=\"ml-4\">\n                  <v-icon color=\"white\">mdi-calendar-range</v-icon>\n                  Date Scheduled at: {{ appointment.scheduleDate.slice(0, 19).replace('T', ' ')}}\n                </h3>\n              </v-col>\n              <v-col cols=\"3\">\n                <h3 class=\"ml-4 mr-auto\">\n                  <v-icon class=\"ml-auto\" color=\"white\">mdi-account</v-icon>\n                  Psychologist: {{getPsychologistName(appointment.psychoId)}}</h3>\n              </v-col>\n            </v-card-text>\n          </v-card>\n        </v-col>\n        <v-col cols=\"2\" class=\"align-content-center\" style=\"display: grid\">\n          <v-btn class=\"mr-6\" @click=\"psychologistDialog(appointment.psychoId, appointment.id)\">Details</v-btn>\n        </v-col>\n      </v-row>\n    </v-card>\n    <template>\n      <!--DIALOG INFO PSICOLOGO SELECCIONADO-->\n      <v-dialog v-model=\"dialogInfo\" width=\"400\" v-if=\"selectedAppointment!=null\">\n        <v-card>\n          <v-card-actions class=\"justify-end\">\n            <v-icon @click=\"closeDialog\">mdi-close</v-icon>\n          </v-card-actions>\n          <v-col align=\"center\">\n            <v-avatar width=\"100\" height=\"100\">\n              <v-img :src=\"selectedAppointment.img\"></v-img>\n            </v-avatar>\n          </v-col>\n          <v-card-title class=\"justify-center\">{{ selectedAppointment.name }}</v-card-title>\n          <v-card-subtitle class=\"text-center\">{{ selectedAppointment.phone }}</v-card-subtitle>\n          <v-card-text class=\"text-justify\">{{ selectedAppointment.email }}</v-card-text>\n          <v-card-actions class=\"justify-center\">\n            <v-btn @click=\"joinMeet\">Join</v-btn>\n            <v-btn @click=\"openReScheduleDialog(psychoId)\">ReSchedule</v-btn>\n            <v-btn @click=\"openCancelDialog()\">Cancel</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      <!--Fin del Dialog-->\n    </template>\n\n    <template>\n      <!--DIALOG CANCEL APPOINTMENT-->\n      <v-dialog v-model=\"dialog\" width=\"440\">\n        <v-card>\n          <v-card-title class=\"justify-center\">Do you want to cancel your appointment ?</v-card-title>\n          <v-card-actions class=\"justify-center\">\n            <v-btn @click=\"cancelAppointment(appointmentId)\">Yes</v-btn>\n            <v-btn @click.stop=\"dialog=false\">No</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      <!--Fin del Dialog-->\n    </template>\n\n    <template>\n      <!--DIALOG RESCHEDULE-->\n      <v-dialog v-model=\"dialogReSchedule\" width=\"400\" persistent>\n        <v-card>\n          <v-card-title class=\"justify-center\">Elige un horario a tu preferencia</v-card-title>\n          <v-card-subtitle class=\"text-center\">Horarios disponibles</v-card-subtitle>\n          <v-divider></v-divider>\n          <v-menu\n              ref=\"menu\"\n              v-model=\"menu\"\n              :close-on-content-click=\"false\"\n              transition=\"scale-transition\"\n              offset-y\n              min-width=\"auto\"\n          >\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-text-field\n                  outlined dense color=\"blue\"\n                  v-model=\"dateApp\"\n                  required\n                  label=\"Date\"\n                  prepend-icon=\"mdi-calendar\"\n                  readonly\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                  @input=\"$v.dateApp.$touch()\"\n                  @blur=\"$v.dateApp.$touch()\"\n                  class=\"mr-4 ml-5\"\n              ></v-text-field>\n            </template>\n            <v-date-picker\n                v-model=\"dateApp\"\n                :active-picker.sync=\"activePicker\"\n                :max=\"(new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)\"\n                min=\"2021-01-01\"\n                @change=\"save\"\n                class=\"mr-4 ml-5\"\n            ></v-date-picker>\n          </v-menu>\n          <v-row>\n            <v-col cols=\"12\" sm=\"6\">\n              <v-card class=\"ml-5\" elevation=\"5\">\n                <v-card-subtitle class=\"text-center\">Morning</v-card-subtitle>\n                <v-chip-group active-class=\"primary--text\" column class=\"ml-7\">\n                  <div v-for=\"schedule in schedules\" :key=\"schedule\" @click=\"scheduleDialog(schedule.time)\">\n                    <v-chip v-if=\"schedule.id < 6\" >\n                      {{ schedule.time }}\n                    </v-chip>\n                  </div>\n                </v-chip-group>\n              </v-card>\n            </v-col>\n            <v-col cols=\"12\" sm=\"6\">\n              <v-card class=\"mr-5\" elevation=\"5\">\n                <v-card-subtitle class=\"text-center\">Evening</v-card-subtitle>\n                <v-chip-group  active-class=\"primary--text\" column class=\"ml-7\">\n                  <div v-for=\"schedule in schedules\" :key=\"schedule\" class=\"align-center\" @click=\"scheduleDialog(schedule.time)\">\n                    <v-chip  v-if=\"schedule.id >= 6\">\n                      {{ schedule.time }}\n                    </v-chip>\n                  </div>\n                </v-chip-group>\n              </v-card>\n            </v-col>\n          </v-row>\n          <v-card-actions class=\"justify-end\">\n            <v-btn @click.stop=\"dialogReSchedule=false\">Cancelar</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      <!--Fin del Dialog-->\n      <v-dialog v-model=\"dialogSelected\" width=\"400\">\n        <v-card>\n          <v-card-title class=\"justify-center\">Detalles de tu cita</v-card-title>\n          <v-card-subtitle class=\"text-left text-subtitle-1 text--primary text-uppercase font-weight-bold\">Horario: {{dateApp + scheduleDate}}</v-card-subtitle>\n          <v-card-actions>\n            <v-btn block color=\"primary\" rounded @click=\"reSchedule(dateApp,scheduleDate)\">ReSchedule</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </template>\n\n  </div>\n</template>\n\n<script>\n\nimport AppointmentApiService from '../../core/services/appointments-api.service'\nimport PsychologistApiService from '../../core/services/psychologists-api.service'\nimport PsychologistsApiService from \"../../core/services/psychologists-api.service\";\n\nexport default {\n  name: \"appointments-patient\",\n  data: () => ({\n    scheduleDate: '',\n    menu: false,\n    psychoId: \"\",\n    schedules: [],\n    dialogReSchedule: false,\n    appointments: [],\n    psychologists: [],\n    userId: \"\",\n    dialogInfo: false,\n    dialog: false,\n    dialogSelected: false,\n    selectedAppointment: null,\n    deleteAppointment: null,\n    appointmentId: 0,\n    activePicker: null,\n    dateApp: null,\n  }),\n\n  watch: {\n    menu (val) {\n      val && setTimeout(() => (this.activePicker = 'YEAR'))\n    },\n  },\n\n  async created() {\n    this.userId = this.$route.params.id;\n    const responsePsychologist = await PsychologistApiService.getAll();\n    this.psychologists = responsePsychologist.data;\n    await this.retrieveAppointments();\n    console.log(this.dialogInfo)\n  },\n\n  methods: {\n    scheduleDialog(scheduledATE){\n      this.scheduleDate = scheduledATE;\n      this.dialogSelected = true;\n    },\n\n    save (date) {\n      this.$refs.menu.save(date)\n    },\n\n    async reSchedule(dateTime, dateHour) {\n      let dateToIso = new Date(dateTime + \" \" + dateHour);\n      const response = await AppointmentApiService.getAppointmentId(this.appointmentId);\n      let dataAppointment = response.data;\n      console.log(dataAppointment, dateToIso)\n      let newDate = {\n        psychoNotes: dataAppointment.psychoNotes,\n        scheduleDate: dateToIso.toISOString(),\n        createdAt: dataAppointment.createdAt,\n        motive: dataAppointment.motive,\n        personalHistory: dataAppointment.personalHistory,\n        testRealized: dataAppointment.testRealized,\n        treatment: dataAppointment.treatment,\n      };\n      await AppointmentApiService.updateAppointment(dataAppointment.id, newDate);\n      await this.retrieveAppointments();\n      this.dialogSelected = false;\n    },\n\n    getPsychologistName(id) {\n      return this.psychologists.find(psychologists => psychologists.id === id).name;\n    },\n\n    openReScheduleDialog(appointmentId) {\n      this.retrievePsychoSchedules(appointmentId);\n      this.dialogReSchedule = true;\n    },\n\n    retrievePsychoSchedules(id) {\n      PsychologistsApiService.getScheduleFromPsycho(id)\n          .then(response => {\n            this.schedules = response.data;\n            console.log(response.data);\n          })\n          .catch(e => {\n            console.log(e);\n          });\n    },\n\n    async psychologistDialog(psychoId, idAppointment){\n      this.appointmentId = idAppointment;\n      this.psychoId = psychoId;\n      const response = await PsychologistApiService.getById(psychoId);\n      this.selectedAppointment = response.data;\n      this.dialogInfo = true;\n    },\n\n    openCancelDialog(){\n      this.dialog = true;\n    },\n\n    closeDialog(){\n      this.dialogInfo = false;\n    },\n\n    async retrieveAppointments(){\n      const response = await AppointmentApiService.getAppointmentsByPatientId(this.userId);\n      this.appointments = response.data;\n    },\n\n    async cancelAppointment(appointmentId){\n      await AppointmentApiService.deleteAppointment(appointmentId);\n      const response = await AppointmentApiService.getAppointmentsByPatientId(this.userId);\n      this.appointments = response.data;\n      this.dialog = false;\n      this.dialogInfo = false;\n      alert(\"Canceled Appointment\")\n    },\n\n    async joinMeet() {\n      const response = await AppointmentApiService.getAppointmentId(this.appointmentId);\n      const appointment = response.data;\n      if(appointment.psychoNotes === \"No Url Yet\")\n      {\n        alert(\"An url is not set yet\")\n      }\n      else\n      {\n        window.open(appointment.psychoNotes);\n      }\n    }\n  },\n}\n</script>\n\n\n<style scoped>\n\n</style>"]}]}