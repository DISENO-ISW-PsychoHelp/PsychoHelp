{"remainingRequest":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\src\\components\\psychologists\\appointments-psycho.vue?vue&type=script&lang=js&","dependencies":[{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\src\\components\\psychologists\\appointments-psycho.vue","mtime":1637587974000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQXBwb2ludG1lbnRBcGlTZXJ2aWNlIGZyb20gJy4uLy4uL2NvcmUvc2VydmljZXMvYXBwb2ludG1lbnRzLWFwaS5zZXJ2aWNlJwppbXBvcnQgUGF0aWVudEFwaVNlcnZpY2UgZnJvbSAnLi4vLi4vY29yZS9zZXJ2aWNlcy9wYXRpZW50LWFwaS1zZXJ2aWNlJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhcHBvaW50bWVudHMtcHN5Y2hvIiwKICBkYXRhOiAoKSA9PiAoewogICAgdXJsOiAnJywKICAgIGFwcG9pbnRtZW50czogW10sCiAgICBkaWFsb2dQYXltZW50OmZhbHNlLAogICAgcGF0aWVudHM6IFtdLAogICAgdXNlcklkOiAiIiwKICAgIGRpYWxvZ0luZm86IGZhbHNlLAogICAgZGlhbG9nOiBmYWxzZSwKICAgIHNlbGVjdGVkQXBwb2ludG1lbnQ6IG51bGwsCiAgICBkZWxldGVBcHBvaW50bWVudDogbnVsbCwKICAgIGFwcG9pbnRtZW50SWQ6IDAsCiAgICBmbGFnVXJsOiBmYWxzZSwKICB9KSwKCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIHRoaXMudXNlcklkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgY29uc3QgcmVzcG9uc2VQYXRpZW50ID0gYXdhaXQgUGF0aWVudEFwaVNlcnZpY2UuZ2V0QWxsKCk7CiAgICB0aGlzLnBhdGllbnRzID0gcmVzcG9uc2VQYXRpZW50LmRhdGE7CiAgICBhd2FpdCB0aGlzLnJldHJpZXZlQXBwb2ludG1lbnRzKCk7CiAgICBjb25zb2xlLmxvZyh0aGlzLmRpYWxvZ0luZm8pCiAgfSwKCiAgbWV0aG9kczogewogICAgZ2V0UGF0aWVudE5hbWUoaWQpIHsKICAgICAgY29uc3QgcGF0aWVudCA9IHRoaXMucGF0aWVudHMuZmluZChwYXRpZW50ID0+IHBhdGllbnQuaWQgPT09IGlkKTsKICAgICAgcmV0dXJuIHBhdGllbnQuZmlyc3ROYW1lICsgIiAiICsgcGF0aWVudC5sYXN0TmFtZTsKICAgIH0sCgogICAgYXN5bmMgcGF0aWVudERpYWxvZyhwYXRpZW50SWQsIGlkQXBwb2ludG1lbnQpewogICAgICB0aGlzLmFwcG9pbnRtZW50SWQgPSBpZEFwcG9pbnRtZW50OwogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBhdGllbnRBcGlTZXJ2aWNlLmdldEJ5SWQocGF0aWVudElkKTsKICAgICAgdGhpcy5zZWxlY3RlZEFwcG9pbnRtZW50ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgdGhpcy5kaWFsb2dJbmZvID0gdHJ1ZTsKICAgIH0sCgogICAgb3BlbkNhbmNlbERpYWxvZygpewogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICB9LAoKICAgIGNsb3NlRGlhbG9nKCl7CiAgICAgIHRoaXMuZGlhbG9nSW5mbyA9IGZhbHNlOwogICAgfSwKCiAgICBhc3luYyB1cGRhdGVVcmwoKXsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBcHBvaW50bWVudEFwaVNlcnZpY2UuZ2V0QXBwb2ludG1lbnRJZCh0aGlzLmFwcG9pbnRtZW50SWQpOwogICAgICBsZXQgZGF0YUFwcG9pbnRtZW50ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgIGxldCBhZGRVcmwgPSB7CiAgICAgICAgcHN5Y2hvTm90ZXM6IHRoaXMudXJsLAogICAgICAgIHNjaGVkdWxlRGF0ZTogZGF0YUFwcG9pbnRtZW50LnNjaGVkdWxlRGF0ZSwKICAgICAgICBjcmVhdGVkQXQ6IGRhdGFBcHBvaW50bWVudC5jcmVhdGVkQXQsCiAgICAgICAgbW90aXZlOiBkYXRhQXBwb2ludG1lbnQubW90aXZlLAogICAgICAgIHBlcnNvbmFsSGlzdG9yeTogZGF0YUFwcG9pbnRtZW50LnBlcnNvbmFsSGlzdG9yeSwKICAgICAgICB0ZXN0UmVhbGl6ZWQ6IGRhdGFBcHBvaW50bWVudC50ZXN0UmVhbGl6ZWQsCiAgICAgICAgdHJlYXRtZW50OiBkYXRhQXBwb2ludG1lbnQudHJlYXRtZW50LAogICAgICB9OwogICAgICBhd2FpdCBBcHBvaW50bWVudEFwaVNlcnZpY2UudXBkYXRlQXBwb2ludG1lbnQoZGF0YUFwcG9pbnRtZW50LmlkLCBhZGRVcmwpOwogICAgICB0aGlzLmZsYWdVcmwgPSBmYWxzZTsKICAgIH0sCgogICAgc2V0VXJsRmllbGRzKCl7CiAgICAgIHRoaXMuZmxhZ1VybCA9IHRydWU7CiAgICAgIHdpbmRvdy5vcGVuKCJodHRwczovL21lZXQuZ29vZ2xlLmNvbS9uZXciKTsKICAgICAgLy8gd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiaHR0cHM6Ly9tZWV0Lmdvb2dsZS5jb20vbmV3IjsKICAgIH0sCgogICAgYXN5bmMgcmV0cmlldmVBcHBvaW50bWVudHMoKXsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBcHBvaW50bWVudEFwaVNlcnZpY2UuZ2V0QXBwb2ludG1lbnRzQnlQc3ljaG9sb2dpc3RJZCh0aGlzLnVzZXJJZCk7CiAgICAgIHRoaXMuYXBwb2ludG1lbnRzID0gcmVzcG9uc2UuZGF0YTsKICAgIH0sCgogICAgYXN5bmMgY2FuY2VsQXBwb2ludG1lbnQoYXBwb2ludG1lbnRJZCl7CiAgICAgIGF3YWl0IEFwcG9pbnRtZW50QXBpU2VydmljZS5kZWxldGVBcHBvaW50bWVudChhcHBvaW50bWVudElkKTsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBcHBvaW50bWVudEFwaVNlcnZpY2UuZ2V0QXBwb2ludG1lbnRzQnlQc3ljaG9sb2dpc3RJZCh0aGlzLnVzZXJJZCk7CiAgICAgIHRoaXMuYXBwb2ludG1lbnRzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5kaWFsb2dJbmZvID0gZmFsc2U7CiAgICAgIGFsZXJ0KCJDYW5jZWxlZCBBcHBvaW50bWVudCIpCiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["appointments-psycho.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"appointments-psycho.vue","sourceRoot":"src/components/psychologists","sourcesContent":["<template>\n  <div style=\"width: 100%; height: 100%\">\n    <v-card class=\"mt-10\" style=\"width:100%\">\n      <v-divider vertical></v-divider>\n      <h2 class=\"ml-9 mb-5\">Appointments</h2>\n      <v-row v-for=\"appointment in appointments\" :key=\"appointment\">\n        <v-col cols=\"10\">\n          <v-card class=\"mr-8 ml-8\" color=#03A9F4>\n            <v-card-text class=\"white--text\" style=\"display: flex\">\n              <v-col cols=\"10\">\n                <h3 class=\"ml-4\">\n                  <v-icon color=\"white\">mdi-calendar-range</v-icon>\n                  Date Scheduled at: {{ appointment.scheduleDate.slice(0, 19).replace('T', ' ')}}\n                </h3>\n              </v-col>\n              <v-col cols=\"2\">\n                <h3 class=\"ml-4 mr-auto\">\n                  <v-icon class=\"ml-auto\" color=\"white\">mdi-account</v-icon>\n                  Patient: {{getPatientName(appointment.patientId)}}</h3>\n              </v-col>\n            </v-card-text>\n          </v-card>\n        </v-col>\n        <v-col cols=\"2\" class=\"align-content-center\" style=\"display: grid\">\n          <v-btn class=\"mr-6\" @click=\"patientDialog(appointment.patientId, appointment.id)\">Details</v-btn>\n        </v-col>\n      </v-row>\n    </v-card>\n    <template>\n      <!--DIALOG INFO PSICOLOGO SELECCIONADO-->\n      <v-dialog v-model=\"dialogInfo\" width=\"400\" v-if=\"selectedAppointment!=null\">\n        <v-card>\n          <v-card-actions class=\"justify-end\">\n            <v-icon @click=\"closeDialog\">mdi-close</v-icon>\n          </v-card-actions>\n          <v-col align=\"center\">\n            <v-avatar width=\"100\" height=\"100\">\n              <v-img :src=\"selectedAppointment.img\"></v-img>\n            </v-avatar>\n          </v-col>\n          <v-card-title class=\"justify-center mb-2\">{{ selectedAppointment.firstName + \" \" + selectedAppointment.lastName }}</v-card-title>\n          <v-card-subtitle class=\"text-center\">{{ selectedAppointment.phone }}</v-card-subtitle>\n          <v-card-text class=\"text-justify font-weight-black\">{{ selectedAppointment.email }}</v-card-text>\n          <v-card-text v-if=\"flagUrl === true\">Enter the url</v-card-text>\n          <v-text-field v-if=\"flagUrl === true\" class=\"mr-4 ml-4\" background-color=\"white\" outlined dense color=\"black\" v-model=\"url\"></v-text-field>\n          <v-btn class=\"ml-5\" v-if=\"flagUrl === true\" @click=\"updateUrl()\">Save</v-btn>\n          <v-card-actions class=\"justify-center\">\n            <v-btn @click=\"setUrlFields\" >Join</v-btn>\n            <v-btn @click=\"closeDialog()\">Close</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      <!--Fin del Dialog-->\n    </template>\n\n  </div>\n</template>\n\n<script>\n\nimport AppointmentApiService from '../../core/services/appointments-api.service'\nimport PatientApiService from '../../core/services/patient-api-service'\n\nexport default {\n  name: \"appointments-psycho\",\n  data: () => ({\n    url: '',\n    appointments: [],\n    dialogPayment:false,\n    patients: [],\n    userId: \"\",\n    dialogInfo: false,\n    dialog: false,\n    selectedAppointment: null,\n    deleteAppointment: null,\n    appointmentId: 0,\n    flagUrl: false,\n  }),\n\n  async created() {\n    this.userId = this.$route.params.id;\n    const responsePatient = await PatientApiService.getAll();\n    this.patients = responsePatient.data;\n    await this.retrieveAppointments();\n    console.log(this.dialogInfo)\n  },\n\n  methods: {\n    getPatientName(id) {\n      const patient = this.patients.find(patient => patient.id === id);\n      return patient.firstName + \" \" + patient.lastName;\n    },\n\n    async patientDialog(patientId, idAppointment){\n      this.appointmentId = idAppointment;\n      const response = await PatientApiService.getById(patientId);\n      this.selectedAppointment = response.data;\n      this.dialogInfo = true;\n    },\n\n    openCancelDialog(){\n      this.dialog = true;\n    },\n\n    closeDialog(){\n      this.dialogInfo = false;\n    },\n\n    async updateUrl(){\n      const response = await AppointmentApiService.getAppointmentId(this.appointmentId);\n      let dataAppointment = response.data;\n      console.log(response.data);\n      let addUrl = {\n        psychoNotes: this.url,\n        scheduleDate: dataAppointment.scheduleDate,\n        createdAt: dataAppointment.createdAt,\n        motive: dataAppointment.motive,\n        personalHistory: dataAppointment.personalHistory,\n        testRealized: dataAppointment.testRealized,\n        treatment: dataAppointment.treatment,\n      };\n      await AppointmentApiService.updateAppointment(dataAppointment.id, addUrl);\n      this.flagUrl = false;\n    },\n\n    setUrlFields(){\n      this.flagUrl = true;\n      window.open(\"https://meet.google.com/new\");\n      // window.location.href = \"https://meet.google.com/new\";\n    },\n\n    async retrieveAppointments(){\n      const response = await AppointmentApiService.getAppointmentsByPsychologistId(this.userId);\n      this.appointments = response.data;\n    },\n\n    async cancelAppointment(appointmentId){\n      await AppointmentApiService.deleteAppointment(appointmentId);\n      const response = await AppointmentApiService.getAppointmentsByPsychologistId(this.userId);\n      this.appointments = response.data;\n      this.dialog = false;\n      this.dialogInfo = false;\n      alert(\"Canceled Appointment\")\n    },\n  },\n}\n</script>\n\n\n<style scoped>\n\n</style>"]}]}