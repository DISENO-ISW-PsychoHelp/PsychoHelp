{"remainingRequest":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\src\\components\\patients\\login-patient.vue?vue&type=script&lang=js&","dependencies":[{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\src\\components\\patients\\login-patient.vue","mtime":1637587974000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYXRpZW50QXBpU2VydmljZSBmcm9tICIuLi8uLi9jb3JlL3NlcnZpY2VzL3BhdGllbnQtYXBpLXNlcnZpY2UiCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImxvZ2luLXBhdGllbnQiLAogIGRhdGE6ICgpID0+ICh7CiAgICBwYXRpZW50czogW10sCiAgICBsb2dpbkRhdGE6IFtdLAogICAgc2hvdzE6IGZhbHNlLAogICAgZW1haWw6ICcnLAogICAgcGFzc3dvcmQ6ICcnLAogICAgcnVsZXM6IHsKICAgICAgcmVxdWlyZWQ6IHZhbHVlID0+ICEhdmFsdWUgfHwgJ1JlcXVpcmVkLicsCiAgICAgIG1pbjogdiA9PiB2Lmxlbmd0aCA+PSA4IHx8ICdNaW4gOCBjaGFyYWN0ZXJzJywKICAgICAgZW1haWw6IHZhbHVlID0+IHsKICAgICAgICBjb25zdCBwYXR0ZXJuID0gL14oKFtePD4oKVtcXVxcLiw7OlxzQCJdKyhcLltePD4oKVtcXVxcLiw7OlxzQCJdKykqKXwoIi4rIikpQCgoXFtbMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvCiAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh2YWx1ZSkgfHwgJ0ludmFsaWQgZS1tYWlsLicKICAgICAgfSwKICAgIH0KICB9KSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgdHJ5IHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQYXRpZW50QXBpU2VydmljZS5nZXRBbGwoKTsKICAgICAgdGhpcy5wYXRpZW50cyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9CiAgICBjYXRjaCAoZSkKICAgIHsKICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKCiAgICBhc3luYyB2YWxpZGF0ZUxvZ2luKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IGF3YWl0IFBhdGllbnRBcGlTZXJ2aWNlLmZpbmRCeUVtYWlsKHRoaXMuZW1haWwpOwogICAgICAgIHRoaXMubG9naW5EYXRhID0gcmVzcG9uc2UyLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5sb2dpbkRhdGEpOwogICAgICAgIGlmICh0aGlzLnBhc3N3b3JkID09PSB0aGlzLmxvZ2luRGF0YS5wYXNzd29yZCkgewogICAgICAgICAgYXdhaXQgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdob21lLXBhdGllbnQnLCBwYXJhbXM6IHtpZDogdGhpcy5sb2dpbkRhdGEuaWR9fSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2codGhpcy5sb2dpbkRhdGEuZW1haWwpCiAgICAgICAgICBhbGVydCgiSW5jb3JyZWN0IFBhc3N3b3JkIikKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGUpCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["login-patient.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login-patient.vue","sourceRoot":"src/components/patients","sourcesContent":["<template>\n    <v-row align=\"center\" justify=\"center\" >\n      <v-col>\n        <v-card class=\"elevation-6 mt-10\">\n              <v-row>\n                <v-col cols=\"12\" md=\"6\">\n                  <v-img width=\"100%\" src=\"https://static.vecteezy.com/system/resources/previews/002/610/660/non_2x/woman-consulting-psychologist-vector.jpg\"></v-img>\n                </v-col>\n\n                <v-col cols=\"12\" md=\"6\" align=\"center\">\n                  <v-card-text class=\"mt-6\">\n                    <h1 class=\"text-center ma-1 mb-5\">Bienvenido a PsychoHelp</h1>\n                    <h3 class=\"text-center  grey--text \">\n                      Inicia sesión para continuar\n                    </h3>\n                    <v-row align=\"center\" justify=\"center\">\n                      <v-col cols=\"12\" sm=\"8\">\n\n                        <v-form>\n                          <v-text-field\n                              outlined dense color=\"blue\"\n                              class=\"mt-16\"\n                              v-model=\"email\"\n                              :rules=\"[rules.required, rules.email]\"\n                              label=\"E-mail\">\n                          </v-text-field>\n\n                          <v-text-field\n                              outlined dense color=\"blue\"\n                              v-model=\"password\"\n                              :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\n                              :rules=\"[rules.required, rules.min]\"\n                              :type=\"show1 ? 'text' : 'password'\"\n                              name=\"input-10-1\"\n                              label=\"Password\"\n                              hint=\"At least 8 characters\"\n                              counter\n                              @click:append=\"show1 = !show1\"\n                          ></v-text-field>\n\n                        </v-form>\n\n                        <v-col align=\"center\">\n                          <span class=\"caption blue--text\">Forgot password</span>\n                        </v-col>\n                        <v-btn color=\"blue\" dark block tile class=\"mb-3\" @click=\"validateLogin()\">Log in</v-btn>\n                        <v-divider inset></v-divider>\n                        <v-btn class=\"ma-1\" color=\"blue\" plain to=\"/register_patient\">\n                        Sign up\n                        </v-btn>\n                      </v-col>\n                    </v-row>\n                  </v-card-text>\n                </v-col>\n              </v-row>\n        </v-card>\n      </v-col>\n    </v-row>\n</template>\n\n<script>\nimport PatientApiService from \"../../core/services/patient-api-service\"\n\nexport default {\n  name: \"login-patient\",\n  data: () => ({\n    patients: [],\n    loginData: [],\n    show1: false,\n    email: '',\n    password: '',\n    rules: {\n      required: value => !!value || 'Required.',\n      min: v => v.length >= 8 || 'Min 8 characters',\n      email: value => {\n        const pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n        return pattern.test(value) || 'Invalid e-mail.'\n      },\n    }\n  }),\n  async created() {\n    try {\n      const response = await PatientApiService.getAll();\n      this.patients = response.data;\n    }\n    catch (e)\n    {\n      console.error(e);\n    }\n  },\n  methods: {\n\n    async validateLogin() {\n      try {\n        const response2 = await PatientApiService.findByEmail(this.email);\n        this.loginData = response2.data;\n        console.log(this.loginData);\n        if (this.password === this.loginData.password) {\n          await this.$router.push({name: 'home-patient', params: {id: this.loginData.id}})\n        } else {\n          console.log(this.loginData.email)\n          alert(\"Incorrect Password\")\n        }\n      } catch (e) {\n        console.error(e)\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n\n</style>"]}]}