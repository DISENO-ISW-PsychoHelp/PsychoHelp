{"remainingRequest":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\src\\components\\psychologists\\homepage-psychologist.vue?vue&type=style&index=0&id=cd579b7a&scoped=true&lang=css&","dependencies":[{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\src\\components\\psychologists\\homepage-psychologist.vue","mtime":1662703628516},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wc3kgewogIGJvcmRlci1yYWRpdXM6IDEwJTsKfQoKCgo="},{"version":3,"sources":["homepage-psychologist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwXA;AACA;AACA","file":"homepage-psychologist.vue","sourceRoot":"src/components/psychologists","sourcesContent":["<template>\n  <v-container fluid>\n  <v-row>\n    <v-col cols=\"2\">\n      <v-img class=\"psy\" contain :src=\"loginData.image\"></v-img>\n      <v-card class=\"rounded-xl\">\n        <v-card-title class=\"mt-4\">Welcome: {{loginData.name}}</v-card-title>\n      </v-card>\n      <v-spacer class=\"my-5\"></v-spacer>\n      <template>\n        <v-btn block color=\"primary\" rounded @click=\"openDialog()\">New Post</v-btn>\n        <v-dialog v-model=\"dialog\" max-width=\"800px\">\n          <v-flex class=\"mx-auto\" v-if=\"formAdd\">\n            <v-card class=\"mb-3 pa-3\">\n              <v-form @submit.prevent=\"addPublication\">\n                <v-text-field label=\"To post\" v-model=\"defaultPublication.title\"></v-text-field>\n                <v-textarea label=\"What do you want to publish?\" v-model=\"defaultPublication.description\"></v-textarea>\n                <v-btn block color=#BBDEFB type=\"submit\" @click=\"closeDialog()\">Add Published</v-btn>\n              </v-form>\n            </v-card>\n          </v-flex>\n        </v-dialog>\n      </template>\n      <v-divider inset vertical class=\"mx-4\"></v-divider>\n      <v-sheet elevation=\"8\" class=\"pa-2\" rounded=\"xl\" color=white>\n        <v-list shaped >\n          <v-list-item v-for=\"item in items\" :key=\"item.text\" @click=\"redirectTo(item.routeName, userId)\">\n            <v-list-item-content >\n              <v-list-item-title>\n                {{item.text}}\n                <v-divider></v-divider>\n              </v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-sheet>\n    </v-col>\n\n      <v-col lg=\"8\">\n        <v-carousel height=\"20vh\"  hide-delimiter-background show-arrows-on-hover rounded = \"lg\">\n          <v-carousel-item class=\"flex xl12\" v-for=\"(slide, i) in slides\" :key=\"i\">\n            <v-sheet :color=\"colors[i]\" height=\"100%\">\n              <v-row class=\"fill-height\" align=\"center\" justify=\"center\">\n                <div class=\"carousel_text text-h5 white--text font-weight-medium\">\n                  {{ slide }}\n                </div>\n              </v-row>\n            </v-sheet>\n          </v-carousel-item>\n        </v-carousel>\n        <v-divider inset vertical></v-divider>\n        <!-- CONTENIDO PARA EDIT PUBLICACION -->\n        <v-flex class=\"mx-auto\" v-if=\"!formEdit\">\n          <v-card class=\"mb-3 pa-3\">\n            <v-form @submit.prevent=\"editPublication\">\n              <v-text-field label=\"To post\" v-model=\"editedPublication.title\"></v-text-field>\n              <v-textarea label=\"What do you want to publish?\" v-model=\"editedPublication.description\"></v-textarea>\n              <v-btn block color=\"primary\" type=\"submit\">Edit Published</v-btn>\n            </v-form>\n          </v-card>\n        </v-flex>\n\n        <v-divider inset vertical></v-divider>\n\n        <v-flex class=\"mx-auto\">\n          <v-card class=\"mb-3\" v-for=\"publication in publications\" :key=\"publication\">\n              <v-row\n                  align=\"center\"\n                  class=\"ml-4 mt-4\"\n                  no-gutters\n              >\n                <v-avatar size=\"40\">\n                  <img\n                      alt=\"user\"\n                      :src=\"publication.psychologist.img\"\n                  >\n                </v-avatar>\n                <p class=\"ml-2 mt-4\">{{publication.psychologist.name}}</p>\n              </v-row>\n            <v-divider></v-divider>\n            <v-card-title>{{publication.title}}</v-card-title>\n            <v-card-text>\n              <p class=\"black--text\">{{publication.description}}</p>\n              <v-row class=\"ml-0\">\n                <v-chip-group  v-for=\"tag in tags\" :key=\"tag\">\n                  <v-chip v-if=\"tag.publication.id === publication.id\" color=\"primary\" outlined>{{tag.text}}</v-chip>\n                </v-chip-group>\n              </v-row>\n            </v-card-text>\n            <v-card-actions class=\"justify-end\">\n              <v-btn color=\"white\" @click=\"openDialogTag(publication.id)\">Add Tags</v-btn>\n              <v-btn color=\"white\" @click=\"editChanges(publication)\">Edit</v-btn>\n              <v-btn color=\"primary\" @click=\"deletePost(publication)\">Delete</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-flex>\n\n      </v-col>\n\n      <v-snackbar v-model=\"snackbar\">\n        {{ message }}\n        <template v-slot:action=\"{ attrs }\">\n          <v-btn color=\"pink\" text v-bind=\"attrs\" @click=\"snackbar = false\">\n            Close\n          </v-btn>\n        </template>\n      </v-snackbar>\n\n\n\n    <v-col lg=\"2\">\n      <!--CARDS PSICÓLOGOS-->\n      <v-row>\n        <v-card max-width=\"220\" class=\"mx-auto\">\n          <v-card-title class=\" text-subtitle-1 text--primary text-uppercase font-weight-bold\">\n            New psychologists\n          </v-card-title>\n        </v-card>\n        <v-col  sm=\"4\" md=\"2\" lg=\"12\" v-for=\"psychology in psychologists\" :key=\"psychology\">\n          <v-card max-height=\"300\" max-width=\"200\" class=\"mx-auto mb-5\" >\n            <v-img aspect-ratio=\"14:9\" height=\"150\" width=\"200\" class=\"white--text align-end\" :src=\"psychology.image\">\n            </v-img>\n            <v-card-subtitle class=\"pb-0\">\n              {{psychology.name}}\n            </v-card-subtitle>\n            <v-card-text class=\"text--primary\">\n              <div>{{ psychology.email }}</div>\n            </v-card-text>\n            <!-- BOTONES CARDS-->\n            <v-card-actions>\n              <v-btn color=\"primary\" text @click=\"psychologistDialog(psychology)\">More</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-col>\n\n    <template>\n      <!--DIALOG INFO PSICOLOGO SELECCIONADO-->\n      <v-dialog v-model=\"dialogInfo\" width=\"400\" v-if=\"selectedPsychologist!=null\" persistent>\n        <v-card>\n          <v-col align=\"center\">\n            <v-avatar width=\"100\" height=\"100\">\n              <v-img :src=\"selectedPsychologist.image\"></v-img>\n            </v-avatar>\n          </v-col>\n          <v-card-title class=\"justify-center\">{{ selectedPsychologist.name }}</v-card-title>\n          <v-card-subtitle class=\"text-center\">CMP: {{ selectedPsychologist.cmp }}</v-card-subtitle>\n          <v-card-text class=\"text-justify\">{{ selectedPsychologist.about }}</v-card-text>\n          <v-container>\n            <v-layout>\n              <v-flex>\n                <v-flex class=\"mt-2 text-end\">\n                  <v-btn @click.stop=\"dialogInfo=false\">Close</v-btn>\n                </v-flex>\n              </v-flex>\n            </v-layout>\n          </v-container>\n        </v-card>\n      </v-dialog>\n      <!--Fin del Dialog-->\n    </template>\n\n    <template>\n      <v-dialog v-model=\"dialogTag\" width=\"400\">\n        <v-card  class=\"mb-3 pa-3\">\n          <v-form @submit.prevent=\"addTag\">\n            <v-text-field label=\"Add Tag\" v-model=\"defaultTag.text\"></v-text-field>\n            <v-btn block color=#BBDEFB type=\"submit\" @click=\"closeDialogTag()\">Add Tag</v-btn>\n          </v-form>\n        </v-card>\n      </v-dialog>\n    </template>\n\n  </v-row>\n  </v-container>\n</template>\n\n<script>\n\nimport PublicationsApiService from \"../../core/services/publications-api-service\"\nimport PsychologistsApiService from \"../../core/services/psychologists-api.service\"\n\nexport default {\n  name: \"homepage-psychologist\",\n  data: () => ({\n    items: [\n      {text: 'Patients', routeName:'dashboard_psycho'},\n      {text:'Help Center', routeName:'centro de ayuda'},\n      {text:'Guide', routeName:'video-call'}\n    ],\n    colors: [\n      '#03A9F4',\n      '#03A9F4',\n    ],\n    slides: [\n      'Up to 20% discount on the dating package !!!',\n      'Schedule with our new psychologists!'\n    ],\n    publications: [],\n    psychologists: [],\n    loginData: [],\n    tags: [],\n    snackbar: false,\n    message: '',\n    formAdd: true,\n    formEdit: true,\n    dialog: false,\n    dialogInfo: false,\n    dialogTag: false,\n    selectedPsychologist: null,\n\n    date: new Date().toISOString(),\n\n    editedIndex: 0,\n    deletedIndex: 0,\n    userId: \"\",\n    editedPublication:{\n      id: 0,\n      title: \"\",\n      description: \"\",\n      img: \"\",\n      createdAt: \"\",\n      psychologistId: 0\n    },\n    defaultPublication: {\n      id: 0,\n      title: \"\",\n      description: \"\",\n      img: \"\",\n      createdAt: \"\",\n      psychologistId: 0\n    },\n    defaultTag: {\n      text: \"\",\n      publicationId: 0\n    }\n\n  }),\n\n\n  created() {\n    this.userId = this.$route.params.id;\n    this.retrievePublications();\n    this.retrievePsychologists();\n  },\n\n\n  methods: {\n\n     retrievePublications(){\n      PublicationsApiService.getByPsychologistId(this.userId)\n       .then(response => {\n         this.publications = response.data;\n         console.log(response.data);\n       })\n       .catch(e=>{\n        console.log(e);\n       });\n\n       PublicationsApiService.getTags()\n           .then(response => {\n             this.tags = response.data;\n             console.log(response.data);\n           })\n           .catch(e=>{\n             console.log(e);\n           });\n    },\n\n    retrievePsychologists(){\n      PsychologistsApiService.getAll()\n          .then(response => {\n            this.psychologists = response.data;\n            console.log(response.data);\n          })\n          .catch(e=>{\n            console.log(e);\n          });\n\n      PsychologistsApiService.getById(this.userId)\n          .then(response => {\n            this.loginData = response.data;\n            console.log(response.data);\n          })\n          .catch(e=>{\n            console.log(e);\n          });\n\n    },\n\n\n    async addPublication(){\n      if(this.defaultPublication.title === '' || this.defaultPublication.description === '') {\n        this.snackbar = true\n        this.message = 'Llena todos los campos'\n      }\n      else {\n        this.defaultPublication.createdAt = this.date\n        this.defaultPublication.img = \"https://www.dzoom.org.es/wp-content/uploads/2017/07/seebensee-2384369-810x540.jpg\"\n        this.defaultPublication.psychologistId = this.userId\n        await PublicationsApiService.create(this.defaultPublication)\n        // this.publications.push(this.defaultPublication)\n\n        const response = await PublicationsApiService.getByPsychologistId(this.userId)\n        console.log(this.userId);\n\n\n        this.publications = response.data;\n        //this.$forceUpdate();\n       // this.retrievePublications()\n        //this.closeDialog();\n        //this.snackbar = true;\n        //this.message = 'Added post';\n      }\n\n    },\n\n    openDialog(){\n       this.dialog = true;\n    },\n\n    closeDialog(){\n      this.dialog = false;\n    },\n\n   openDialogTag(publicationId){\n      this.dialogTag = true;\n      this.defaultTag.publicationId = publicationId;\n    },\n\n    closeDialogTag(){\n      this.dialogTag = false;\n    },\n\n    async addTag(){\n      await PublicationsApiService.createTag(this.defaultTag);\n      const response = await PublicationsApiService.getTags();\n      this.tags = response.data;\n    },\n\n    editChanges(item){\n      this.formEdit = false;\n      this.editedIndex = this.publications.indexOf(item);\n      this.editedPublication = Object.assign({}, item);\n    },\n\n    editPublication(){\n      this.formEdit = true;\n      Object.assign(this.publications[this.editedIndex], this.editedPublication);\n      PublicationsApiService.update(this.editedPublication.id, this.editedPublication);\n      this.snackbar = true;\n      this.message = 'Post edited successfully';\n    },\n\n    deletePost(item) {\n      this.deletedIndex = this.publications.indexOf(item);\n      PublicationsApiService.delete(item.id);\n      this.publications.splice(this.deletedIndex, 1);\n    },\n\n    psychologistDialog(psychologist){\n      console.log('psychologistDialog psychologist:', psychologist);\n      this.selectedPsychologist = psychologist;\n      this.dialogInfo = true;\n    },\n\n    redirectTo(router, id) {\n      this.$router.push({name: router, params:{id: id}})\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n.psy {\n  border-radius: 10%;\n}\n\n\n\n</style>"]}]}