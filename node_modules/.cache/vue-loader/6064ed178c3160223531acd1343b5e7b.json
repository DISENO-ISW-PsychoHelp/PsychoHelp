{"remainingRequest":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\src\\components\\psychologists\\psychologist-logbook.vue?vue&type=style&index=0&id=2636b080&scoped=true&lang=css&","dependencies":[{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\src\\components\\psychologists\\psychologist-logbook.vue","mtime":1637587974000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"T:\\Universidad\\DISEÑO DE EXPERIMENTOS DE INGENIERIA DE SOFTWARE\\PROJECT PSYCHOHELP\\PsychoHelp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5mdWxsQ2xhc3MgewogIGhlaWdodDogMTAwJTsKfQoKaW1nIHsKICBib3JkZXItcmFkaXVzOiAyJTsKfQoKLkNlbnRlciB7CiAganVzdGlmeS1pdGVtczogY2VudGVyOwogIGRpc3BsYXk6IGdyaWQ7Cn0KCi5FbmQgewogIGp1c3RpZnktaXRlbXM6IGVuZDsKICBkaXNwbGF5OiBncmlkOwp9CgouY2FyZENlbnRlciB7CiAgZGlzcGxheTogZ3JpZDsKICBhbGlnbi1jb250ZW50OiBjZW50ZXI7Cn0KCi5idG5Db2wgewogIGZvbnQtcGFsZXR0ZTogbGlnaHQ7Cn0KCg=="},{"version":3,"sources":["psychologist-logbook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiPA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"psychologist-logbook.vue","sourceRoot":"src/components/psychologists","sourcesContent":["<template>\n  <div class=\"fullClass\">\n    <v-sheet class=\"mt-4 ml-7 mr-7 fullClass\" color=#03A9F4 rounded>\n      <v-row>\n        <v-col cols=\"2\">\n          <v-card rounded class=\"ml-4\" color=8BC6CD>\n            <h2 class=\"Center\">{{patientData.firstName}}</h2>\n          </v-card>\n          <img alt=\"profileImage\" class=\"mt-2 ml-4\" width=\"95%\" height=\"135vw\" :src=\"patientData.img\">\n        </v-col>\n        <v-col cols=\"10\">\n          <v-sheet rounded class=\"mr-4\">\n            <h2 class=\"ml-4 font-weight-regular\">Identification Data</h2>\n            <v-divider></v-divider>\n            <v-row>\n              <v-col cols=\"6\">\n                <h4 class=\"ml-4 mt-3\">Name: {{patientData.firstName + \" \" + patientData.lastName}}</h4>\n                <h4 class=\"ml-4 mt-2\">Age: {{dateNow()}}</h4>\n                <h4 class=\"ml-4 mt-2\">Birth Date: {{birthDatePatient()}}</h4>\n                <h4 class=\"ml-4 mt-2\">Marital Status: {{patientData.state}}</h4>\n              </v-col>\n              <v-col cols=\"6\">\n                <h4 class=\"ml-4 mt-3\">Email: {{patientData.email}}</h4>\n              </v-col>\n            </v-row>\n          </v-sheet>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"12\">\n          <v-card rounded class=\"ml-7 mr-7 mb-5\">\n            <v-row>\n              <v-col cols=\"3\">\n                <h1  class=\"font-weight-regular Center mb-3\">Appointments</h1>\n                <div>\n                  <v-card height=\"5vh\" v-for=\"appointment in appointments\" :key=\"appointment\"\n                          hover class=\"mr-auto ml-auto mb-5 cardCenter\" color=#03A9F4  width=\"50%\" rounded>\n                    <h3 @click=\"retrieveAppointmentInfo(appointment.id)\" class=\"Center white--text\">{{dateSplitter(appointment.scheduleDate)}}</h3>\n                  </v-card>\n                </div>\n              </v-col>\n              <v-col cols=\"9\">\n                  <v-card class=\"mr-8 mt-5\" color=#03A9F4>\n                    <v-divider inset vertical></v-divider>\n                    <h3 class=\"ml-5 font-weight-regular white--text\">{{dateSplitter(dateAppointment)}}</h3>\n\n                    <v-card class=\"ml-5 mr-5 mb-8 mt-8\">\n                      <v-row>\n                        <v-col cols=\"3\">\n                          <h4 class=\"ml-8 font-weight-regular\">Reason for consultation :</h4>\n                        </v-col>\n                        <v-col cols=\"9\">\n                          <h4 class=\"ml-5 font-weight-regular\">{{motive}}</h4>\n                        </v-col>\n                      </v-row>\n                    </v-card>\n\n                    <v-card class=\"ml-5 mr-5 mb-8\">\n                      <v-row>\n                        <v-col cols=\"3\">\n                          <h4 class=\"ml-8 font-weight-regular\">Personal History: </h4>\n                        </v-col>\n                        <v-col cols=\"9\">\n                          <h4 class=\"ml-5 font-weight-regular\">{{personalHistory}}</h4>\n                        </v-col>\n                      </v-row>\n                    </v-card>\n\n                    <v-card class=\"ml-5 mr-5 mb-8\">\n                      <v-row>\n                        <v-col cols=\"3\">\n                          <h4 class=\"ml-8 font-weight-regular\">Test Performed: </h4>\n                        </v-col>\n                        <v-col cols=\"9\">\n                          <h4 class=\"ml-5 font-weight-regular\">{{testRealized}}</h4>\n                        </v-col>\n                      </v-row>\n                    </v-card>\n\n                    <v-card class=\"ml-5 mr-5 mb-5\">\n                      <v-row>\n                        <v-col cols=\"3\">\n                          <h4 class=\"ml-8 font-weight-regular\">Treatment: </h4>\n                        </v-col>\n                        <v-col cols=\"9\">\n                          <h4 class=\"ml-5 font-weight-regular\">{{treatment}}</h4>\n                        </v-col>\n                      </v-row>\n                    </v-card>\n\n                    <v-divider inset vertical></v-divider>\n                  </v-card>\n              </v-col>\n            </v-row>\n            <v-col class=\"End\">\n              <v-btn color=#03A9F4 class=\"mr-5 btnCol white--text\" @click=\"editDialog(dataAppointment)\"> Edit </v-btn>\n            </v-col>\n\n            <template>\n              <!--DIALOG INFO Psychologist selected-->\n              <v-dialog v-model=\"dialog\" width=\"600\" v-if=\"actualSession!=null\" persistent>\n                <v-card color=#03A9F4>\n                  <v-form>\n                    <v-card-title class=\"justify-start\">\n                      <span class=\"ml-5 white--text\">Observations</span>\n                      <v-spacer></v-spacer>\n                      <v-menu bottom left>\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <v-btn color=\"white\" class=\"mr-5\" @click=\"cancelDialog()\" icon v-bind=\"attrs\" v-on=\"on\">\n                            <v-icon>mdi-close</v-icon>\n                          </v-btn>\n                        </template>\n                      </v-menu>\n                    </v-card-title>\n                    <v-card elevation=\"0\" class=\"mr-5 ml-5\">\n                      <v-divider inset vertical></v-divider>\n                      <v-text-field clearable class=\"ml-10 mr-10\" v-model=\"motiveForm\" label=\"Consultation Reason\"></v-text-field>\n                      <v-text-field clearable class=\"mt-5 ml-10 mr-10\" v-model=\"personalHistoryForm\" label=\"Personal History\"></v-text-field>\n                      <v-text-field clearable class=\"mt-5 ml-10 mr-10\" v-model=\"testRealizedForm\" label=\"Test Performed\"></v-text-field>\n                      <v-text-field clearable class=\"mt-5 ml-10 mr-10\" v-model=\"treatmentForm\" label=\"Personal History\"></v-text-field>\n                    </v-card>\n                  </v-form>\n                  <v-card-actions class=\"mt-2 justify-end\">\n                    <v-btn @click=\"editDialog()\">Cancel</v-btn>\n                    <v-btn class=\"mr-5\" @click=\"saveDialog()\">Save</v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n              <!--Fin del Dialog-->\n            </template>\n\n          </v-card>\n        </v-col>\n      </v-row>\n    </v-sheet>\n  </div>\n</template>\n\n<script>\nimport AppointmentApiService from \"../../core/services/appointments-api.service\"\nimport PatientApiService from \"../../core/services/patient-api-service\"\n\nexport default {\n  name: \"psychologist-logbook\",\n  data: () => ({\n    appointments: [],\n    patientData: [],\n    motive: \"\",\n    motiveForm: \"\",\n    personalHistory: \"\",\n    personalHistoryForm: \"\",\n    testRealized: \"\",\n    selectedAppointment: null,\n    testRealizedForm: \"\",\n    dateAppointment: \"\",\n    treatment: \"\",\n    treatmentForm: \"\",\n    scheduleDate: \"\",\n    patientId: 0,\n    psychologistId: 0,\n    actualSession: null,\n    dialog: false,\n    dataAppointment: {}\n  }),\n\n  async created() {\n    this.patientId = this.$route.params.patient_id;\n    this.psychologistId = this.$route.params.psycho_id;\n    try {\n      const responseAppointment = await AppointmentApiService.getAppointmentByPatientIdAndPsychologistId(this.patientId, this.psychologistId);\n      const responsePatient = await PatientApiService.getById(this.patientId);\n      this.appointments = responseAppointment.data;\n      this.patientData = responsePatient.data;\n    }\n    catch (e)\n    {\n      console.error(e);\n    }\n  },\n\n  methods: {\n    async retrieveAppointmentInfo(appointmentId) {\n      const appointmentSelected = await AppointmentApiService.getAppointmentId(appointmentId);\n      this.dataAppointment = appointmentSelected.data;\n      this.motive = this.dataAppointment.motive;\n      this.personalHistory = this.dataAppointment.personalHistory;\n      this.testRealized = this.dataAppointment.testRealized;\n      this.treatment = this.dataAppointment.treatment;\n      this.dateAppointment = this.dataAppointment.scheduleDate;\n    },\n\n    dateNow() {\n      let rightNow = new Date();\n      let date = rightNow.toISOString().slice(0,4);\n      return date - this.patientData.date.slice(0,4);\n    },\n\n    birthDatePatient() {\n      let date = this.patientData.date;\n      return date.slice(0,10);\n    },\n\n    dateSplitter(dateSplit) {\n      return dateSplit.slice(0,10);\n    },\n\n    editDialog(session){\n      this.actualSession = session;\n      this.motiveForm = this.motive;\n      this.personalHistoryForm = this.personalHistory;\n      this.testRealizedForm = this.testRealized;\n      this.treatmentForm = this.treatment;\n      this.dialog = true;\n    },\n\n    cancelDialog() {\n      this.dialog = false;\n    },\n\n    saveDialog() {\n      this.motive = this.motiveForm;\n      this.personalHistory = this.personalHistoryForm;\n      this.testRealized = this.testRealizedForm;\n      this.treatment = this.treatmentForm;\n      let requestAppointment = {\n        id:this.dataAppointment.id,\n        scheduleDate: this.dataAppointment.scheduleDate,\n        motive: this.motiveForm,\n        personalHistory: this.personalHistoryForm,\n        testRealized: this.testRealizedForm,\n        psychoNotes: \"Notes\",\n        treatment: this.treatmentForm}\n      AppointmentApiService.updateAppointment(this.dataAppointment.id, requestAppointment);\n      this.dialog = false;\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.fullClass {\n  height: 100%;\n}\n\nimg {\n  border-radius: 2%;\n}\n\n.Center {\n  justify-items: center;\n  display: grid;\n}\n\n.End {\n  justify-items: end;\n  display: grid;\n}\n\n.cardCenter {\n  display: grid;\n  align-content: center;\n}\n\n.btnCol {\n  font-palette: light;\n}\n\n</style>"]}]}